import{B as n,b as s}from"./blackjackMessageHandler-472ee1ea.js";var t=(e=>(e.CLUB="CLUB",e.DIAMOND="DIAMOND",e.HEART="HEART",e.SPADE="SPADE",e))(t||{}),c=(e=>(e.MULTIPLAYER="MULTIPLAYER",e.SINGLE_PLAYER="SINGLE_PLAYER",e))(c||{});let o;const l="ws://localhost:8080/casino",i='{ "action": "OPEN_TABLE"}';async function S(e,a){const r=l+`/${e}/${a}`;await A(r.toLocaleLowerCase())}function L(e){o.send(JSON.stringify(e))}function f(){o==null||o.close()}function A(e){o=new WebSocket(e),o.onopen=a=>{L(JSON.parse(i))},o.onmessage=a=>{let r=JSON.parse(a.data);if(!r.table){alert("error");return}switch(r.table.tableCard.game){case n:s(r);break;default:throw new Error("no handler for data "+JSON.stringify(r))}},o.onerror=a=>{console.error("socket error"+JSON.stringify(a)),alert("an error occured")},o.onclose=a=>{console.log("socket closes, bye!")}}export{t as S,c as T,f as a,L as b,S as u};
